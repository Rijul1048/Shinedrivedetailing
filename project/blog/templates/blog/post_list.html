{% extends "blog/base.html" %}
{% load static %}

{% block title %}{{ meta_title|default:"Blog" }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/blog-content.css' %}">
<style>
    .hero-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .search-container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .post-card-hover {
        transform: translateY(0);
        transition: all 0.3s ease;
    }
    .post-card-hover:hover {
        transform: translateY(-4px);
    }
    .category-filter {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-gradient text-white py-20">
    <div class="container mx-auto px-4 text-center">
        <h1 class="text-5xl font-bold mb-6">Our Blog</h1>
        <p class="text-xl opacity-90 max-w-2xl mx-auto mb-8">
            Discover expert tips, industry insights, and the latest trends in car detailing and automotive care.
        </p>
        
        <!-- Enhanced Search Form -->
        <div class="max-w-lg mx-auto">
            <form method="get" action="{% url 'blog:search' %}" class="search-container rounded-2xl p-2 shadow-xl">
                <div class="relative">
                    <input type="text" name="q" value="{{ search_query|default:'' }}" 
                           placeholder="Search articles, tips, and guides..." 
                           class="w-full px-6 py-4 text-gray-900 rounded-xl border-0 focus:ring-0 focus:outline-none text-lg">
                    <button type="submit" class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Main Content -->
<div class="container mx-auto px-4 py-16">
    <!-- Category Filter -->
    <div class="mb-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Browse by Category</h2>
        <div class="flex flex-wrap justify-center gap-3">
            <a href="{% url 'blog:post_list' %}" 
               class="px-6 py-3 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-all duration-300 font-medium">
                All Articles
            </a>
            <!-- Add dynamic categories here when available -->
            <a href="#" class="px-6 py-3 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-all duration-300 font-medium">
                Car Care Tips
            </a>
            <a href="#" class="px-6 py-3 bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-all duration-300 font-medium">
                Detailing Services
            </a>
            <a href="#" class="px-6 py-3 bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-all duration-300 font-medium">
                Maintenance
            </a>
        </div>
    </div>

    <!-- Posts Grid -->
    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {% for post in posts %}
            <div class="post-card-hover">
                {% include "blog/includes/post_card.html" with post=post %}
            </div>
        {% empty %}
            <div class="col-span-full text-center py-16">
                <div class="max-w-md mx-auto">
                    <svg class="w-24 h-24 text-gray-300 mx-auto mb-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                    </svg>
                    <h3 class="text-2xl font-semibold text-gray-600 mb-3">No articles found</h3>
                    <p class="text-gray-500 mb-6">We're working on creating amazing content for you. Check back soon!</p>
                    <a href="{% url 'services' %}" 
                       class="inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Explore Our Services
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if is_paginated %}
        <div class="mt-16">
            {% include "blog/includes/pagination.html" %}
        </div>
    {% endif %}
</div>

<!-- Newsletter Signup -->
<div class="bg-gray-50 py-16">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">Stay Updated</h2>
        <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
            Get the latest car care tips and exclusive offers delivered to your inbox.
        </p>
        <div class="max-w-md mx-auto">
            <form class="flex gap-3">
                <input type="email" placeholder="Enter your email" 
                       class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <button type="submit" 
                        class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium">
                    Subscribe
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}